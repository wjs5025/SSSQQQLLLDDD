# PL/SQL
- SQL 구문을 절차적인 형태로 프로그래밍 할 수 있게 한 SQL의 확장

## PL/SQL의 특징
- PL/SQL은 블록 구조 되어있어서 각 기능별로 모듈화가 가능
- 변수, 상수 등을 선언하여 SQL 문장 간 값을 교환한다.
- IF, LOOP 등의 절차형 언어를 사용하여 절차적인 프로그램이 가능하도록 한다
- DBMS 정의 에러나 사용자 정의 에러를 정의하여 사용할 수 있다.
- PL/SQL은 Oracle에 내장되어 있어서 오라클과 PL/SQL을 지원하는 어떤 서버로도 프로그램을 옮길 수 있음
- PL/SQL은 응용 프로그램의 성능을 향상시킨다.
- PL/SQL은 여러 SQL문장을 BLOCK 으로 묶고 한번에 BLOCK 전부를 서버로 보내기 때문에 통신량을 줄일 수 있다.


## PL/SQL의 예시
- DECLEAR로 선언되는 익명 블록
- 값을 반드시 리턴하는 함수
- 실행만하는 프로시저 (메소드)
- 트리거링 이벤트에 의해 자동 실행되는 프로시저인 트리거 (자동실행함수)
- 비슷한 기능을 하는 함수 프로시저를 묶어놓은 패키지


## PL/SQL 프로그램은
- 오라클 서버에서 컴파일되고 저장되며, 클라이언트에 의해 호출되어 실행됨

## PL/SQL의 장점
- BEGIN-END 와 같은 블록 구조를 가지므로 블록 안의 여러 SQL 구문이 한번에 서버로 전송되므로, 수행속도가 향상되고 통신량도 줄일 수 있다.
- 블록 안에 또 다른 블록을 포함하는 형태로 코드를 모듈화 할 수 있다.
- 단일형 데이터 타입 / 복합 데이터타입 / 상수 등 여러 형태의 변수 선언 가능.
- exception 절을 이용해 프로그래밍 언어처럼 예외(오류)를 처리할 수 있음.
- 사용자 정의 예외도 사용 가능


## 프로시저 작성 방법
- 명령 문의 종료는 세미콜론(;)
- CREATE 구문을 사용했다면 실행을 위해 마지막 슬래시('/')가 필요
- 익명의 블록을 만들려면 DECLARE 구문으로 이름있는 블록을 만들기 위해서는 CREATE 구문을 사용해야 함.
- 하나의  BEGIN에 대응되는 END 구문은 하나이며, 세미콜론(;)으로 끝나야하고, END 다음에 CREATE 구문에서 사용된 함수나 프로시저의 이름을 써줘도 된다.

```SQL
CREATE PROCEDURE A AS
...
BEGIN
...
END A;
/
```